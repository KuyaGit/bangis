


<div class="table-container w-full">
  <div class="flex flex-row justify-between w-full">
    <input type="text" placeholder="Search for an Event" class="input input-bordered w-full max-w-xs" />
    <button class="btn bg-red-600  border-none hover:bg-red-700 text-white" (click)="this.modalAdd.set(true)">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m6-6H6" />
      </svg>
      Add Account
    </button>
  </div>
  <div class="card">
    <div class="relative">
      <table class="table">
          <thead>
              <tr>
                  <th>UserID</th>
                  <th>Name</th>
                  <th>Username</th>
                  <th>Address</th>
                  <th>Role</th>
                  <th>Action</th>
              </tr>
          </thead>
          <tbody>
              @for(user of _user.Users(); track $index){
                  <tr>
                      <td>
                        {{user.id}}
                      </td>
                      <td>
                        <div class="font-bold">{{ user.name }}</div>
                      </td>
                      <td>
                        {{ user.email }}
                      </td>
                      <td>{{user.address}}</td>
                      <td>
                        <div class="flex flex-row items-center">
                          {{user.accountType.toUpperCase()}}
                        </div>
                      </td>
                      <td>
                        <div class="dropdown dropdown-left 2xl:dropdown-right">
                          <div tabindex="0" role="button" class="btn m-1">Action</div>
                          <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-200 rounded-box w-24">
                            <li><a (click)="openViewModal(user.id)">View</a></li>
                            <li><a (click)="openEditModal(user.id)">Edit</a></li>
                            <li><a (click)="deleteUser(user.id)">Delete</a></li>
                          </ul>
                        </div>
                      </td>
                  </tr>
              }
              @empty {
                  <tr>
                      <td colspan="6" class="text-center">No Data</td>
                  </tr>}
          </tbody>
      </table>
    </div>
  </div>
</div>
@if (modalAdd()) {
  <app-add-user (modalEvent)="this.modalAdd.set($event)" (getAllUsersMethod)="getAllUsers()" />
} @else if (modalView()) {
  <app-view-user (modalEvent)="this.modalView.set($event)" [userInfo]="userDetails"/>
} @else if (modalEdit()) {
  <app-edit-user (modalEvent)="this.modalEdit.set($event)" [userDetails]="userDetails"/>
}
