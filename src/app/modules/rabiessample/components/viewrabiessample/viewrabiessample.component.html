<div
  class="relative z-10"
  aria-labelledby="modal-title"
  role="dialog"
  aria-modal="true"
>
  <div class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div
    class="fixed inset-0 z-10 w-screen flex items-center sm:flex sm:items-center sm:justify-center sm:h-full"
  >
    <div
      class="flex items-end justify-center p-4 text-center sm:items-center sm:flex sm:p-0"
    >
      <form
        class="w-full flex justify-center items-center"
        [formGroup]="rabiesSampleForm"
      >
        <div
          class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all s sm:my-8 sm:w-90 sm:max-w-6xl md:max-w-6xl"
        >
          <div
            class="bg-white h-[90vh] px-4 pb-4 pt-5 sm:p-6 sm:pb-4 md:overflow-x-scroll md:h-[70vh]"
          >
            <ng-container *ngIf="currentStep == 1">
              <div>
                <div class="sm:flex sm:items-center w-full">
                  <label class="form-control w-full">
                    <div class="label">
                      <span class="label-text">Patiend ID</span>
                    </div>
                    <input
                      type="string"
                      formControlName="sampleId"
                      placeholder="Enter Residence(in 15 days)"
                      class="input input-bordered w-full"
                    />
                  </label>
                </div>
              </div>
              <h1
                class="text-2xl flex items-start font-extrabold text-slate-600 mb-2"
              >
                Animal Profile
              </h1>
              <div class="grid grid-cols-5 gap-3">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Residence of Animal</span>
                      </div>
                      <input
                        type="text"
                        formControlName="residence"
                        placeholder="Enter Residence(in 15 days)"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Species</span>
                      </div>
                      <input
                        type="text"
                        class="input input-bordered w-full"
                        formControlName="species"
                        placeholder="Enter Address"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Breed</span>
                      </div>
                      <input
                        type="text"
                        class="input input-bordered w-full"
                        formControlName="breed"
                        placeholder="Enter Breed"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Gender</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="gender"
                      >
                        <option value="" disabled selected>
                          Please Select Gender
                        </option>
                        <option value="male">Male</option>
                        <option value="female">Female</option>
                        <option value="other">Other</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Age(Month)</span>
                      </div>
                      <input
                        type="number"
                        formControlName="age"
                        placeholder="Age"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Type of Ownership</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="typeOfOwnership"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="household pet">Household Pet</option>
                        <option value="neighbor's pet">Neigbor's Pet</option>
                        <option value="stray animal">Stray Animal</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Pet Management</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="petManagement"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="household pet">Confined</option>
                        <option value="neighbor's pet">Leashed</option>
                        <option value="stray animal">Free</option>
                      </select>
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-3 gap-4">
                <!-- First Row -->
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Cause of Death</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        [formControlName]="
                          rabiesSampleForm.get('causeOfDeath')?.value ==
                          'others'
                            ? 'causeOfDeathOther'
                            : 'causeOfDeath'
                        "
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="euthanasia">Euthanasia</option>
                        <option value="accident">Accident</option>
                        <option value="illness">Illness</option>
                        <option value="others">Other</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div
                  *ngIf="
                    rabiesSampleForm.get('causeOfDeath')?.value == 'others'
                  "
                >
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Please Specify</span>
                      </div>
                      <input
                        type="text"
                        formControlName="causeOfDeath"
                        placeholder="Enter Cause of Death"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Date of Death</span>
                      </div>
                      <input
                        type="text"
                        [value]="rabiesSampleForm.get('dateOfDeath')?.value | date: 'MMM dd, yyyy'"
                        class="input input-bordered w-full"
                        disabled
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Time of Death</span>
                      </div>
                      <input
                        type="time"
                        formControlName="timeOfDeath"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Vaccination History</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        [formControlName]="
                          rabiesSampleForm.get('otherVaccinationHistory')
                            ?.value == 'others'
                            ? 'otherVaccinationHistoryOther'
                            : 'otherVaccinationHistory'
                        "
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="anit-rabies">Anti-Rabies</option>
                        <option value="others">Other</option>
                      </select>
                    </label>
                  </div>
                </div>
                <!-- Second Row -->
                <div
                  *ngIf="
                    rabiesSampleForm.get('otherVaccinationHistory')?.value ==
                    'others'
                  "
                >
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Please Specify</span>
                      </div>
                      <input
                        type="text"
                        formControlName="otherVaccinationHistory"
                        placeholder="Enter Vaccine"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Date of Vaccination</span>
                      </div>
                      <input
                        type="text"
                        [value]="rabiesSampleForm.get('dateofLastvaccination')?.value | date: 'MMM dd, yyyy'"
                        class="input input-bordered w-full"
                        disabled
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text"
                          >*For Puppies: Was Bitch Vaccinated?</span
                        >
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="puppiesBitchVaccinated"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="yes">Yes</option>
                        <option value="No">No</option>
                      </select>
                    </label>
                  </div>
                  <div
                    *ngIf="
                      rabiesSampleForm.get('puppiesBitchVaccinated')?.value ==
                      'yes'
                    "
                  >
                    <div class="sm:flex sm:items-center w-full">
                      <label class="form-control w-full">
                        <div class="label">
                          <span class="label-text">Date of Vaccination</span>
                        </div>
                        <input
                          type="text"
                          [value]="rabiesSampleForm.get('dateOfVaccinationpuppies')?.value | date: 'MMM dd, yyyy'"
                          class="input input-bordered w-full"
                          disabled
                        />
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-3 gap-4">
                <div class="sm:flex sm:items-center w-full">
                  <label class="form-control w-full">
                    <div class="label">
                      <span class="label-text">Contact With Other Animals</span>
                    </div>
                    <select
                      class="select select-bordered w-full"
                      formControlName="contactWithAnimal"
                    >
                      <option value="" disabled selected>Please Select</option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                  </label>
                </div>
                <div
                  class="sm:flex sm:items-center w-full"
                  *ngIf="
                    rabiesSampleForm.get('contactWithAnimal')?.value == 'Yes'
                  "
                >
                  <label class="form-control w-full">
                    <div class="label">
                      <span class="label-text">If Yes, Where?</span>
                    </div>
                    <select
                      class="select select-bordered w-full"
                      [formControlName]="
                        rabiesSampleForm.get('whereContact')?.value == 'others'
                          ? 'whereContactOthers'
                          : 'whereContact'
                      "
                    >
                      <option value="" disabled selected>Please Select</option>
                      <option value="household">Household</option>
                      <option value="neighborhood">Neighborhood</option>
                      <option value="others">Other</option>
                    </select>
                  </label>
                </div>
                <div
                  *ngIf="
                    rabiesSampleForm.get('whereContact')?.value == 'others'
                  "
                >
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Please Specify</span>
                      </div>
                      <input
                        type="text"
                        formControlName="whereContact"
                        placeholder="Enter Where?"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
              </div>
              <div class="flex">
                <div class="mr-10">
                  <h3
                    class="mb-4 mt-4 font-semibold text-gray-900 dark:text-white"
                  >
                    Behavior Changes
                  </h3>
                  <ul
                    class="w-48 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                  >
                    <ng-container
                      *ngFor="let item of behaviorChanges; let i = index"
                    >

                        <div class="flex items-center ps-3">
                          <label
                            for="vue-checkbox"
                            class="w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
                          >
                            {{ item.description }}
                          </label>
                        </div>
                    </ng-container>
                  </ul>
                </div>
                <div>
                  <h3
                    class="mb-4 mt-4 font-semibold text-gray-900 dark:text-white"
                  >
                    Other Sign of Illness
                  </h3>
                  <ul
                    class="w-48 text-sm font-medium text-gray-900 bg-white border border-gray-200 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"
                  >
                    <ng-container
                      *ngFor="let item of otherIllnesses; let i = index"
                    >
                        <div class="flex items-center ps-3">
                          <label
                            for="vue-checkbox"
                            class="w-full py-3 ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"
                          >
                            {{ item.description }}
                          </label>
                        </div>
                    </ng-container>
                  </ul>
                </div>
              </div>
            </ng-container>
            <ng-container *ngIf="currentStep == 2">
              <h1
                class="text-2xl flex items-start font-extrabold text-slate-600 mb-2"
              >
                Victim Profile
              </h1>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Name</span>
                      </div>
                      <input
                        type="text"
                        formControlName="victimName"
                        placeholder="Enter Name"
                        class="input input-bordered w-full"
                        ngDis
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Age</span>
                      </div>
                      <input
                        type="number"
                        class="input input-bordered w-full"
                        formControlName="victimAge"
                        placeholder="Enter Address"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Gender</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="victimGender"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="household pet">Male</option>
                        <option value="neighbor's pet">Female</option>
                      </select>
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Barangay</span>
                      </div>
                      <input
                        type="text"
                        formControlName="victimBarangay"
                        placeholder="Enter Barangay"
                        class="input input-bordered w-full"
                        ngDis
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">City/Municipality</span>
                      </div>
                      <input
                        type="text"
                        class="input input-bordered w-full"
                        formControlName="victimMunicipality"
                        placeholder="Enter Municipality"
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Province</span>
                      </div>
                      <input
                        type="text"
                        class="input input-bordered w-full"
                        formControlName="victimProvince"
                        placeholder="Enter Province"
                      />
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-1">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Date Bitten</span>
                      </div>
                      <input
                        type="text"
                        [value]="rabiesSampleForm.get('victimDateBitten')?.value | date: 'MMM dd, yyyy'"
                        class="input input-bordered w-full"
                        disabled
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Time Bitten</span>
                      </div>
                      <input
                        type="time"
                        formControlName="victimTimeBitten"
                        class="input input-bordered w-full"
                      />
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Site of Exposure</span>
                      </div>
                      <input
                        type="text"
                        formControlName="siteOfBite"
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        />
                    </label>
                  </div>
                </div>

                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Nature of Exposure</span>
                      </div>
                      <input
                        type="text"
                        formControlName="natureofExposured"
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        />
                    </label>
                  </div>
                </div>
              </div>
              <div class="grid grid-cols-4 gap-2">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Bite Provoke</span>
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="biteProvoked"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="Yes">Yes</option>
                        <option value="Yes">No</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div
                  *ngIf="
                    rabiesSampleForm.controls['biteProvoked']?.value == 'Yes'
                  "
                >
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">If Yes?, Explain</span>
                      </div>
                      <input
                        type="text"
                        formControlName="explainProvoked"
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        ngDis
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text"
                          >Location of Bite Incident</span
                        >
                      </div>
                      <select
                        class="select select-bordered w-full"
                        formControlName="locationofBite"
                      >
                        <option value="" disabled selected>
                          Please Select
                        </option>
                        <option value="Household">Household</option>
                        <option value="Neighborhood">Neighborhood</option>
                        <option value="Others">Others</option>
                      </select>
                    </label>
                  </div>
                </div>
                <div
                  *ngIf="
                    rabiesSampleForm.controls['locationofBite']?.value ==
                    'Others'
                  "
                >
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Others Specify:</span>
                      </div>
                      <input
                        type="text"
                        [formControlName]="
                          rabiesSampleForm.controls['locationofBite'].value ===
                          'Others'
                            ? 'locationofBite'
                            : 'locationofBiteOther'
                        "
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        ngDis
                      />
                    </label>
                  </div>
                </div>
              </div>
              <div>
                <div class="sm:flex sm:items-center w-full">
                  <label class="form-control w-full">
                    <div class="label">
                      <span class="label-text"
                        >Other Victims, If Any (Name, Address):</span
                      >
                    </div>
                    <input
                      type="text"
                      formControlName="otherVictims"
                      placeholder="Type Here"
                      class="input input-bordered w-full"
                    />
                  </label>
                </div>
              </div>
              <div class="grid grid-cols-4 gap-2">
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Treatment Recieved</span>
                      </div>
                      <input type="text" [value]="rabiesSampleForm.get('treatmentRecieved')?.value"  placeholder="Type Here" class="input input-bordered w-full" disabled/>
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Type</span>
                      </div>
                      <input
                        type="text"
                        formControlName="treatmentRecievedType"
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        ngDis
                      />
                    </label>
                  </div>
                </div>
                <div>
                  <div class="sm:flex sm:items-center w-full">
                    <label class="form-control w-full">
                      <div class="label">
                        <span class="label-text">Date</span>
                      </div>
                      <input
                        type="text"
                        [value]="rabiesSampleForm.get('DateofTreatment')?.value | date: 'MMM dd, yyyy'"
                        placeholder="Type Here"
                        class="input input-bordered w-full"
                        disabled
                      />
                    </label>
                  </div>
                </div>
              </div>
            </ng-container>
          </div>
          <div class="bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6">
            <ng-container *ngIf="currentStep == 1">
              <button
                type="button"
                class="mt-3 inline-flex w-full justify-center rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-800 sm:mt-0 sm:w-auto"
                [ngClass]="themeColor"
                (click)="incrementCurrentStep()"
              >
                Next
              </button>
            </ng-container>
            <ng-container *ngIf="currentStep == 2">
              <button
                type="button"
                class="mt-3 inline-flex w-full justify-center rounded-md  px-3 py-2 text-sm font-semibold text-white shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-green-800 sm:mt-0 sm:w-auto"
                [ngClass]="themeColor"
                (click)="decrementCurrentStep()"
              >
                Back
              </button>
            </ng-container>

            <button
              type="button"
              class="mt-3 mr-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto"
              (click)="this.modalEvent.emit(false)"
            >
              Cancel
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
